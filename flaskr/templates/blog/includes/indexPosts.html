{% block body %}

{% for post in posts %}
    <article class="post">
        <header>
            <div>
                <h1><a href="{{ post['id'] }}">{{ post['title'] }}</a></h1>
                <div class="about">by {{ post['username'] }} on {{ post['created'].strftime('%Y-%m-%d') }}</div>
            </div>
            {% if g.user['id'] == post['author_id'] %}
                <a class="action" href="{{ url_for('blog.update', id=post['id']) }}">Edit</a>
            {% elif g.user is not none %}
                <button class="like-button" onClick="likePost({{ post['id'] }})">Like</button>
            {% endif %}
        </header>
        <div class="post-body-row">
            <p class="body">{{ post['body'] }}</p>
            <p class="like-count">{{ post['likes'] if post['likes'] != 0 else 'No' }} Like{{ 's' if (post['likes'] != 1) else '' }}</p>
        </div>
    </article>
    {% if not loop.last %}
      <hr>
    {% endif %}
  {% endfor %}

{% endblock %}